var __extends=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gauge=function(n){function t(t){var e=n.call(this,t)||this;return e.tau=.75*Math.PI,e.tauPos=-e.tau,e.state={desc:"Complete",duration:800,height:300,width:300,backgroundColor:"",foregroundColor:"green",innerRadius:90,outerRadius:100,percentComplete:.6},e}return __extends(t,n),t.prototype.render=function(){return React.createElement("div",null,React.createElement("div",{ref:"gauge"}))},t.prototype.componentDidMount=function(){var t=this.setContext();this.setBackground(t),this.setForeground(t),this.setValueText(t),this.setTitle(t),this.update(t)},t.prototype.update=function(t){return this.setForeground(t).transition().duration(this.state.duration).style("fill",this.state.foregroundColor).call(this.gaugeTween,this.tau*this.state.percentComplete*2-.75*Math.PI,this.gauge())},t.prototype.gaugeTween=function(t,r,o){t.attrTween("d",function(t){var e=d3.interpolate(t.endAngle,r),n=t;return function(t){return n.endAngle=e(t),o(n)}})},t.prototype.setContext=function(){var t=this.state,e=t.height,n=t.width;return d3.select(this.refs.gauge).append("svg").attr("height",e).attr("width",n).append("g").attr("transform","translate("+e/2+", "+n/2+")")},t.prototype.setValueText=function(t){return t.append("text").attr("text-anchor","middle").attr("y",7).text(Math.round(100*this.state.percentComplete)+"%").style("font-size","20px")},t.prototype.setTitle=function(t){return t.append("text").attr("text-anchor","middle").attr("y",30).text(this.state.desc).style("font-size","12px")},t.prototype.setBackground=function(t){return t.append("path").datum({endAngle:this.tau}).style("fill","#e6e6e6").attr("d",this.gauge())},t.prototype.setForeground=function(t){return t.append("path").datum({endAngle:this.tauPos}).style("fill","red").attr("d",this.gauge())},t.prototype.gauge=function(){return d3.arc().innerRadius(this.state.innerRadius).outerRadius(this.state.outerRadius).startAngle(this.tauPos).cornerRadius(10)},t}(React.Component);ReactDOM.render(React.createElement(Gauge,null),document.getElementById("app"));